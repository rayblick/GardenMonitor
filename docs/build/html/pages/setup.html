

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Setup &mdash; Garden Monitor 0.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Garden Monitor 0.1 documentation" href="../index.html"/>
        <link rel="next" title="Docs" href="docs.html"/>
        <link rel="prev" title="Garden Monitor" href="summary.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Garden Monitor
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="summary.html">Garden Monitor</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Setup</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#aim">Aim</a></li>
<li class="toctree-l2"><a class="reference internal" href="#summary">Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gear">Gear</a></li>
<li class="toctree-l2"><a class="reference internal" href="#raspberry-pi-os">Raspberry Pi OS</a></li>
<li class="toctree-l2"><a class="reference internal" href="#preferences">Preferences</a></li>
<li class="toctree-l2"><a class="reference internal" href="#raspberry-pi-password">Raspberry Pi password</a></li>
<li class="toctree-l2"><a class="reference internal" href="#raspberry-pi-name">Raspberry Pi name</a></li>
<li class="toctree-l2"><a class="reference internal" href="#set-timezone">Set timezone</a></li>
<li class="toctree-l2"><a class="reference internal" href="#expand-file-system-and-enable-ssh">Expand file system and enable ssh</a></li>
<li class="toctree-l2"><a class="reference internal" href="#update-and-upgrade">Update and upgrade</a></li>
<li class="toctree-l2"><a class="reference internal" href="#create-static-ip-address">Create static IP address</a></li>
<li class="toctree-l2"><a class="reference internal" href="#install">Install</a></li>
<li class="toctree-l2"><a class="reference internal" href="#folder">Folder</a></li>
<li class="toctree-l2"><a class="reference internal" href="#git">Git</a></li>
<li class="toctree-l2"><a class="reference internal" href="#testing">Testing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="docs.html">Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="database.html">Database</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="testdata.html">Test data</a></li>
<li class="toctree-l1"><a class="reference internal" href="reactappBuildingBlocks.html">React App: Building blocks</a></li>
<li class="toctree-l1"><a class="reference internal" href="reactappConnection.html">React App: Connection with API</a></li>
<li class="toctree-l1"><a class="reference internal" href="reactappBootstrap.html">React App: Bootstrap</a></li>
<li class="toctree-l1"><a class="reference internal" href="reactappChart.html">React App: Chart</a></li>
<li class="toctree-l1"><a class="reference internal" href="xbee.html">Sensors</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Garden Monitor</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Setup</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/pages/setup.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="setup">
<h1>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">¶</a></h1>
<div class="section" id="aim">
<h2>Aim<a class="headerlink" href="#aim" title="Permalink to this headline">¶</a></h2>
<p>Setup the project.</p>
</div>
<div class="section" id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Set up a Raspberry Pi which will be a central component of this project. The main requirement here is to update, upgrade and install python 3. I have included my setup for github.</p>
<a class="reference internal image-reference" href="../_images/rpi.jpg"><img alt="../_images/rpi.jpg" src="../_images/rpi.jpg" style="width: 600px;" /></a>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">I am not using the wifi dongle shown in this image. I used a lan cable for development and the builtin wifi capability once the project was completed.</p>
</div>
</div>
<div class="section" id="gear">
<h2>Gear<a class="headerlink" href="#gear" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Raspberry Pi v3</li>
<li>16GB microsd card</li>
<li>Keyboard and mouse</li>
<li>Monitor and HDMI cable</li>
<li>5v power supply</li>
<li>Lan cable</li>
</ul>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">I ran out of space using an 8GB card. I tried cloning the RPi image to the 16GB card but this failed because the OS was NOOBS and the built in card expansion method (via raspi-config) didnt work. I tried several methods to expand the root partition using gparted and by modifying cylinder boundary markers using parted. I found that it was easier to start from scratch. On the upside this meant I had an updated desktop for the RPi.</p>
</div>
</div>
<div class="section" id="raspberry-pi-os">
<h2>Raspberry Pi OS<a class="headerlink" href="#raspberry-pi-os" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Download and extract Raspbian <a class="reference external" href="https://www.raspberrypi.org/downloads/raspbian/">https://www.raspberrypi.org/downloads/raspbian/</a></li>
<li>Download and install Win32 Disk Imager 1.0 (I used Windows for this, you could also use dd on Linux)</li>
<li>Format 16GB microsd card to fat32</li>
<li>Write image to microsd card</li>
<li>Insert microsd card and boot</li>
</ul>
</div>
<div class="section" id="preferences">
<h2>Preferences<a class="headerlink" href="#preferences" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Set keyboard preferences (for me English (US))</li>
</ul>
</div>
<div class="section" id="raspberry-pi-password">
<h2>Raspberry Pi password<a class="headerlink" href="#raspberry-pi-password" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><div class="highlight"><pre><span></span>passwd
<span class="c1"># Enter default password =&gt; raspberry</span>
password
password
</pre></div>
</div>
</div>
<div class="section" id="raspberry-pi-name">
<h2>Raspberry Pi name<a class="headerlink" href="#raspberry-pi-name" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="c1"># step 1</span>
sudo nano /etc/hostname

<span class="c1">#delete raspberrypi</span>
gardenmonitor

<span class="c1"># exit =&gt; ctrl-x &gt; y &gt; enter</span>

<span class="c1"># step 2</span>
sudo nano /etc/hosts

<span class="m">127</span>.0.0.1 raspberrypi <span class="c1"># find this line and change it to...</span>
<span class="m">127</span>.0.0.1 gardenmonitor
<span class="m">192</span>.168.1.50 gardenmonitor <span class="c1"># static IP to be set up below</span>

<span class="c1"># exit =&gt; ctrl-x &gt; y &gt; enter</span>

<span class="c1"># check host name and IP</span>
hostname
hostname -I
</pre></div>
</div>
</div>
<div class="section" id="set-timezone">
<h2>Set timezone<a class="headerlink" href="#set-timezone" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><div class="highlight"><pre><span></span>sudo dpkg-reconfigure tzdata
</pre></div>
</div>
</div>
<div class="section" id="expand-file-system-and-enable-ssh">
<h2>Expand file system and enable ssh<a class="headerlink" href="#expand-file-system-and-enable-ssh" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><div class="highlight"><pre><span></span>df -h <span class="c1"># check space on root</span>

sudo raspi-config
<span class="c1"># SELECT =&gt; 7 Advance Options &gt; A1 Expand Filesystem &gt; Select</span>
<span class="c1"># SELECT =&gt; 5 Interfacing Options &gt; P2 SSH &gt; Enable</span>

sudo reboot now
</pre></div>
</div>
</div>
<div class="section" id="update-and-upgrade">
<h2>Update and upgrade<a class="headerlink" href="#update-and-upgrade" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><div class="highlight"><pre><span></span>sudo apt-get update
sudo apt-get upgrade
</pre></div>
</div>
</div>
<div class="section" id="create-static-ip-address">
<h2>Create static IP address<a class="headerlink" href="#create-static-ip-address" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><div class="highlight"><pre><span></span>sudo nano /etc/dhcpcd.conf

<span class="c1"># add to bottom of file...</span>
interface eth0
static <span class="nv">ip_address</span><span class="o">=</span><span class="m">192</span>.168.1.50/24      <span class="c1"># I made this up</span>
static <span class="nv">routers</span><span class="o">=</span><span class="m">192</span>.168.1.1             <span class="c1"># My router address</span>
static <span class="nv">domain_name_servers</span><span class="o">=</span><span class="m">192</span>.168.1.1

<span class="c1"># exit =&gt; ctrl-x &gt; y &gt; enter</span>

sudo reboot now
</pre></div>
</div>
</div>
<div class="section" id="install">
<h2>Install<a class="headerlink" href="#install" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><div class="highlight"><pre><span></span>sudo apt-get install python3
sudo apt-get install git
sudo apt-get install iceweasel <span class="c1">#Dev using Firefox</span>
</pre></div>
</div>
</div>
<div class="section" id="folder">
<h2>Folder<a class="headerlink" href="#folder" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="c1"># repos/</span>
mkdir GardenMonitor
<span class="nb">cd</span> GardenMonitor
</pre></div>
</div>
</div>
<div class="section" id="git">
<h2>Git<a class="headerlink" href="#git" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="c1"># repos/GardenMonitor</span>
git init

<span class="c1"># setup github repo, then...</span>
git remote add origin https://github.com/rayblick/GardenMonitor.git
</pre></div>
</div>
</div>
<div class="section" id="testing">
<h2>Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Install an app on your mobile phone to ping the IP address (I used one called “Ping”)</li>
<li>Ensure your phone is connected to the same network as the RPi</li>
<li>Test that the static IP address is found by pinging “192.168.1.50”</li>
</ul>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="docs.html" class="btn btn-neutral float-right" title="Docs" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="summary.html" class="btn btn-neutral" title="Garden Monitor" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Ray Blick.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>